[2024-10-11 23:11:41] - Server => Starting server
[2024-10-11 23:11:41] - Mongo => Connected to database
[2024-10-11 23:11:43] - Server => Request for POST
[2024-10-11 23:11:43] - Server => Request body length: 188
[2024-10-11 23:11:43] - Server => Error: Missing input stream!
[2024-10-11 23:12:21] - Server => Starting server
[2024-10-11 23:12:21] - Mongo => Connected to database
[2024-10-11 23:12:25] - Server => Request for POST
[2024-10-11 23:12:25] - Server => Request body length: 188
[2024-10-11 23:12:25] - Server => Error: Missing input stream!


[2024-10-11 23:16:00] - Server => Starting server
[2024-10-11 23:16:00] - Mongo => Connected to database
[2024-10-11 23:16:02] - Server => Request for POST
[2024-10-11 23:16:02] - Server => Request body length: 
[2024-10-11 23:16:02] - Server => Error: undefined method `multipart?' for #<Rack::Request:0x0000ffffa1bae0b8 @env=#<WEBrick::HTTPRequest:0x0000ffffa1fe5c30 @config={:BindAddress=>nil, :Port=>4572, :MaxClients=>100, :ServerType=>nil, :Logger=>#<WEBrick::Log:0x0000ffffa1fe9740 @level=4, @log=#<IO:<STDERR>>, @time_format="[%Y-%m-%d %H:%M:%S]">, :ServerSoftware=>"WEBrick/1.8.2 (Ruby/3.1.6/2024-05-29)", :TempDir=>"/tmp", :DoNotListen=>false, :StartCallback=>nil, :StopCallback=>nil, :AcceptCallback=>nil, :DoNotReverseLookup=>true, :ShutdownSocketWithoutClose=>false, :RequestTimeout=>30, :HTTPVersion=>#<WEBrick::HTTPVersion:0x0000ffffa2f7b988 @minor=1, @major=1>, :AccessLog=>[[#<IO:<STDERR>>, "%h %l %u %t \"%r\" %s %b"], [#<IO:<STDERR>>, "%{Referer}i -> %U"]], :MimeTypes=>{"ai"=>"application/postscript", "asc"=>"text/plain", "avi"=>"video/x-msvideo", "avif"=>"image/avif", "bin"=>"application/octet-stream", "bmp"=>"image/bmp", "class"=>"application/octet-stream", "cer"=>"application/pkix-cert", "crl"=>"application/pkix-crl", "crt"=>"application/x-x509-ca-cert", "css"=>"text/css", "dms"=>"application/octet-stream", "doc"=>"application/msword", "dvi"=>"application/x-dvi", "eps"=>"application/postscript", "etx"=>"text/x-setext", "exe"=>"application/octet-stream", "gif"=>"image/gif", "htm"=>"text/html", "html"=>"text/html", "ico"=>"image/x-icon", "jpe"=>"image/jpeg", "jpeg"=>"image/jpeg", "jpg"=>"image/jpeg", "js"=>"application/javascript", "json"=>"application/json", "lha"=>"application/octet-stream", "lzh"=>"application/octet-stream", "mjs"=>"application/javascript", "mov"=>"video/quicktime", "mp4"=>"video/mp4", "mpe"=>"video/mpeg", "mpeg"=>"video/mpeg", "mpg"=>"video/mpeg", "otf"=>"font/otf", "pbm"=>"image/x-portable-bitmap", "pdf"=>"application/pdf", "pgm"=>"image/x-portable-graymap", "png"=>"image/png", "pnm"=>"image/x-portable-anymap", "ppm"=>"image/x-portable-pixmap", "ppt"=>"application/vnd.ms-powerpoint", "ps"=>"application/postscript", "qt"=>"video/quicktime", "ras"=>"image/x-cmu-raster", "rb"=>"text/plain", "rd"=>"text/plain", "rtf"=>"application/rtf", "sgm"=>"text/sgml", "sgml"=>"text/sgml", "svg"=>"image/svg+xml", "tif"=>"image/tiff", "tiff"=>"image/tiff", "ttc"=>"font/collection", "ttf"=>"font/ttf", "txt"=>"text/plain", "wasm"=>"application/wasm", "webm"=>"video/webm", "webmanifest"=>"application/manifest+json", "webp"=>"image/webp", "woff"=>"font/woff", "woff2"=>"font/woff2", "xbm"=>"image/x-xbitmap", "xhtml"=>"text/html", "xls"=>"application/vnd.ms-excel", "xml"=>"text/xml", "xpm"=>"image/x-xpixmap", "xwd"=>"image/x-xwindowdump", "zip"=>"application/zip"}, :DirectoryIndex=>["index.html", "index.htm", "index.cgi", "index.rhtml"], :DocumentRoot=>nil, :DocumentRootOptions=>{:FancyIndexing=>true}, :RequestCallback=>nil, :ServerAlias=>nil, :InputBufferSize=>65536, :OutputBufferSize=>65536, :ProxyAuthProc=>nil, :ProxyContentHandler=>nil, :ProxyVia=>true, :ProxyTimeout=>true, :ProxyURI=>nil, :CGIInterpreter=>nil, :CGIPathEnv=>nil, :Escape8bitURI=>false}, @buffer_size=65536, @logger=#<WEBrick::Log:0x0000ffffa1fe9740 @level=4, @log=#<IO:<STDERR>>, @time_format="[%Y-%m-%d %H:%M:%S]">, @http_version=#<WEBrick::HTTPVersion:0x0000ffffa1fe4b78 @minor=1, @major=1>, @unparsed_uri="/img/upload", @request_method="POST", @request_line="POST /img/upload HTTP/1.1\r\n", @path="/img/upload", @port=4572, @host="localhost", @request_uri=#<URI::HTTP http://localhost:4572/img/upload>, @path_info="", @script_name="/img/upload", @query_string=nil, @query=nil, @form_data=nil, @raw_header=["Host: localhost:4572\r\n", "User-Agent: curl/8.4.0\r\n", "Accept: */*\r\n", "Content-Length: 188\r\n", "Content-Type: multipart/form-data; boundary=------------------------JbcVEgRABJGlUZQ6qO5TtD\r\n"], @header={"host"=>["localhost:4572"], "user-agent"=>["curl/8.4.0"], "accept"=>["*/*"], "content-length"=>["188"], "content-type"=>["multipart/form-data; boundary=------------------------JbcVEgRABJGlUZQ6qO5TtD"]}, @cookies=[], @accept=["*/*"], @accept_charset=[], @accept_encoding=[], @accept_language=[], @body="", @peeraddr=["AF_INET", 62471, "192.168.65.1", "192.168.65.1"], @addr=["AF_INET", 4572, "172.18.0.2", "172.18.0.2"], @attributes={}, @user=nil, @keep_alive=true, @request_time=2024-10-11 21:16:02.679947096 +0000, @remaining_size=nil, @socket=#<TCPSocket:fd 10, AF_INET, 172.18.0.2, 4572>, @forwarded_for=nil, @forwarded_server=nil, @forwarded_port=nil, @forwarded_host=nil, @forwarded_proto=nil, @request_bytes=199>, @params=nil>

      parsed = rack_request.multipart?
                           ^^^^^^^^^^^
[2024-10-11 23:16:57] - Server => Starting server
[2024-10-11 23:16:57] - Mongo => Connected to database
[2024-10-11 23:17:01] - Server => Request for POST
[2024-10-11 23:17:01] - Server => Request body length: 
[2024-10-11 23:17:01] - Server => Error: undefined method `[]=' for #<WEBrick::HTTPRequest:0x0000ffff7e155990 @config={:BindAddress=>nil, :Port=>4572, :MaxClients=>100, :ServerType=>nil, :Logger=>#<WEBrick::Log:0x0000ffff7e1594a0 @level=4, @log=#<IO:<STDERR>>, @time_format="[%Y-%m-%d %H:%M:%S]">, :ServerSoftware=>"WEBrick/1.8.2 (Ruby/3.1.6/2024-05-29)", :TempDir=>"/tmp", :DoNotListen=>false, :StartCallback=>nil, :StopCallback=>nil, :AcceptCallback=>nil, :DoNotReverseLookup=>true, :ShutdownSocketWithoutClose=>false, :RequestTimeout=>30, :HTTPVersion=>#<WEBrick::HTTPVersion:0x0000ffff7f0efba8 @minor=1, @major=1>, :AccessLog=>[[#<IO:<STDERR>>, "%h %l %u %t \"%r\" %s %b"], [#<IO:<STDERR>>, "%{Referer}i -> %U"]], :MimeTypes=>{"ai"=>"application/postscript", "asc"=>"text/plain", "avi"=>"video/x-msvideo", "avif"=>"image/avif", "bin"=>"application/octet-stream", "bmp"=>"image/bmp", "class"=>"application/octet-stream", "cer"=>"application/pkix-cert", "crl"=>"application/pkix-crl", "crt"=>"application/x-x509-ca-cert", "css"=>"text/css", "dms"=>"application/octet-stream", "doc"=>"application/msword", "dvi"=>"application/x-dvi", "eps"=>"application/postscript", "etx"=>"text/x-setext", "exe"=>"application/octet-stream", "gif"=>"image/gif", "htm"=>"text/html", "html"=>"text/html", "ico"=>"image/x-icon", "jpe"=>"image/jpeg", "jpeg"=>"image/jpeg", "jpg"=>"image/jpeg", "js"=>"application/javascript", "json"=>"application/json", "lha"=>"application/octet-stream", "lzh"=>"application/octet-stream", "mjs"=>"application/javascript", "mov"=>"video/quicktime", "mp4"=>"video/mp4", "mpe"=>"video/mpeg", "mpeg"=>"video/mpeg", "mpg"=>"video/mpeg", "otf"=>"font/otf", "pbm"=>"image/x-portable-bitmap", "pdf"=>"application/pdf", "pgm"=>"image/x-portable-graymap", "png"=>"image/png", "pnm"=>"image/x-portable-anymap", "ppm"=>"image/x-portable-pixmap", "ppt"=>"application/vnd.ms-powerpoint", "ps"=>"application/postscript", "qt"=>"video/quicktime", "ras"=>"image/x-cmu-raster", "rb"=>"text/plain", "rd"=>"text/plain", "rtf"=>"application/rtf", "sgm"=>"text/sgml", "sgml"=>"text/sgml", "svg"=>"image/svg+xml", "tif"=>"image/tiff", "tiff"=>"image/tiff", "ttc"=>"font/collection", "ttf"=>"font/ttf", "txt"=>"text/plain", "wasm"=>"application/wasm", "webm"=>"video/webm", "webmanifest"=>"application/manifest+json", "webp"=>"image/webp", "woff"=>"font/woff", "woff2"=>"font/woff2", "xbm"=>"image/x-xbitmap", "xhtml"=>"text/html", "xls"=>"application/vnd.ms-excel", "xml"=>"text/xml", "xpm"=>"image/x-xpixmap", "xwd"=>"image/x-xwindowdump", "zip"=>"application/zip"}, :DirectoryIndex=>["index.html", "index.htm", "index.cgi", "index.rhtml"], :DocumentRoot=>nil, :DocumentRootOptions=>{:FancyIndexing=>true}, :RequestCallback=>nil, :ServerAlias=>nil, :InputBufferSize=>65536, :OutputBufferSize=>65536, :ProxyAuthProc=>nil, :ProxyContentHandler=>nil, :ProxyVia=>true, :ProxyTimeout=>true, :ProxyURI=>nil, :CGIInterpreter=>nil, :CGIPathEnv=>nil, :Escape8bitURI=>false}, @buffer_size=65536, @logger=#<WEBrick::Log:0x0000ffff7e1594a0 @level=4, @log=#<IO:<STDERR>>, @time_format="[%Y-%m-%d %H:%M:%S]">, @http_version=#<WEBrick::HTTPVersion:0x0000ffff7e1548d8 @minor=1, @major=1>, @unparsed_uri="/img/upload", @request_method="POST", @request_line="POST /img/upload HTTP/1.1\r\n", @path="/img/upload", @port=4572, @host="localhost", @request_uri=#<URI::HTTP http://localhost:4572/img/upload>, @path_info="", @script_name="/img/upload", @query_string=nil, @query=nil, @form_data=nil, @raw_header=["Host: localhost:4572\r\n", "User-Agent: curl/8.4.0\r\n", "Accept: */*\r\n", "Content-Length: 188\r\n", "Content-Type: multipart/form-data; boundary=------------------------GsXKe1SBja6j2GH3ZZHpJ2\r\n"], @header={"host"=>["localhost:4572"], "user-agent"=>["curl/8.4.0"], "accept"=>["*/*"], "content-length"=>["188"], "content-type"=>["multipart/form-data; boundary=------------------------GsXKe1SBja6j2GH3ZZHpJ2"]}, @cookies=[], @accept=["*/*"], @accept_charset=[], @accept_encoding=[], @accept_language=[], @body="", @peeraddr=["AF_INET", 62323, "192.168.65.1", "192.168.65.1"], @addr=["AF_INET", 4572, "172.18.0.2", "172.18.0.2"], @attributes={}, @user=nil, @keep_alive=true, @request_time=2024-10-11 21:17:01.602147263 +0000, @remaining_size=nil, @socket=#<TCPSocket:fd 10, AF_INET, 172.18.0.2, 4572>, @forwarded_for=nil, @forwarded_server=nil, @forwarded_port=nil, @forwarded_host=nil, @forwarded_proto=nil, @request_bytes=199>

        @env[name] = v
            ^^^^^^^^
Did you mean?  []
[2024-10-11 23:17:04] - Server => Request for POST
[2024-10-11 23:17:04] - Server => Request body length: 
[2024-10-11 23:17:04] - Server => Error: undefined method `[]=' for #<WEBrick::HTTPRequest:0x0000ffff7dcef810 @config={:BindAddress=>nil, :Port=>4572, :MaxClients=>100, :ServerType=>nil, :Logger=>#<WEBrick::Log:0x0000ffff7e1594a0 @level=4, @log=#<IO:<STDERR>>, @time_format="[%Y-%m-%d %H:%M:%S]">, :ServerSoftware=>"WEBrick/1.8.2 (Ruby/3.1.6/2024-05-29)", :TempDir=>"/tmp", :DoNotListen=>false, :StartCallback=>nil, :StopCallback=>nil, :AcceptCallback=>nil, :DoNotReverseLookup=>true, :ShutdownSocketWithoutClose=>false, :RequestTimeout=>30, :HTTPVersion=>#<WEBrick::HTTPVersion:0x0000ffff7f0efba8 @minor=1, @major=1>, :AccessLog=>[[#<IO:<STDERR>>, "%h %l %u %t \"%r\" %s %b"], [#<IO:<STDERR>>, "%{Referer}i -> %U"]], :MimeTypes=>{"ai"=>"application/postscript", "asc"=>"text/plain", "avi"=>"video/x-msvideo", "avif"=>"image/avif", "bin"=>"application/octet-stream", "bmp"=>"image/bmp", "class"=>"application/octet-stream", "cer"=>"application/pkix-cert", "crl"=>"application/pkix-crl", "crt"=>"application/x-x509-ca-cert", "css"=>"text/css", "dms"=>"application/octet-stream", "doc"=>"application/msword", "dvi"=>"application/x-dvi", "eps"=>"application/postscript", "etx"=>"text/x-setext", "exe"=>"application/octet-stream", "gif"=>"image/gif", "htm"=>"text/html", "html"=>"text/html", "ico"=>"image/x-icon", "jpe"=>"image/jpeg", "jpeg"=>"image/jpeg", "jpg"=>"image/jpeg", "js"=>"application/javascript", "json"=>"application/json", "lha"=>"application/octet-stream", "lzh"=>"application/octet-stream", "mjs"=>"application/javascript", "mov"=>"video/quicktime", "mp4"=>"video/mp4", "mpe"=>"video/mpeg", "mpeg"=>"video/mpeg", "mpg"=>"video/mpeg", "otf"=>"font/otf", "pbm"=>"image/x-portable-bitmap", "pdf"=>"application/pdf", "pgm"=>"image/x-portable-graymap", "png"=>"image/png", "pnm"=>"image/x-portable-anymap", "ppm"=>"image/x-portable-pixmap", "ppt"=>"application/vnd.ms-powerpoint", "ps"=>"application/postscript", "qt"=>"video/quicktime", "ras"=>"image/x-cmu-raster", "rb"=>"text/plain", "rd"=>"text/plain", "rtf"=>"application/rtf", "sgm"=>"text/sgml", "sgml"=>"text/sgml", "svg"=>"image/svg+xml", "tif"=>"image/tiff", "tiff"=>"image/tiff", "ttc"=>"font/collection", "ttf"=>"font/ttf", "txt"=>"text/plain", "wasm"=>"application/wasm", "webm"=>"video/webm", "webmanifest"=>"application/manifest+json", "webp"=>"image/webp", "woff"=>"font/woff", "woff2"=>"font/woff2", "xbm"=>"image/x-xbitmap", "xhtml"=>"text/html", "xls"=>"application/vnd.ms-excel", "xml"=>"text/xml", "xpm"=>"image/x-xpixmap", "xwd"=>"image/x-xwindowdump", "zip"=>"application/zip"}, :DirectoryIndex=>["index.html", "index.htm", "index.cgi", "index.rhtml"], :DocumentRoot=>nil, :DocumentRootOptions=>{:FancyIndexing=>true}, :RequestCallback=>nil, :ServerAlias=>nil, :InputBufferSize=>65536, :OutputBufferSize=>65536, :ProxyAuthProc=>nil, :ProxyContentHandler=>nil, :ProxyVia=>true, :ProxyTimeout=>true, :ProxyURI=>nil, :CGIInterpreter=>nil, :CGIPathEnv=>nil, :Escape8bitURI=>false, :ServerName=>"e22519e69c6a"}, @buffer_size=65536, @logger=#<WEBrick::Log:0x0000ffff7e1594a0 @level=4, @log=#<IO:<STDERR>>, @time_format="[%Y-%m-%d %H:%M:%S]">, @http_version=#<WEBrick::HTTPVersion:0x0000ffff7dcef180 @minor=1, @major=1>, @unparsed_uri="/img/upload", @request_method="POST", @request_line="POST /img/upload HTTP/1.1\r\n", @path="/img/upload", @port=4572, @host="localhost", @request_uri=#<URI::HTTP http://localhost:4572/img/upload>, @path_info="", @script_name="/img/upload", @query_string=nil, @query=nil, @form_data=nil, @raw_header=["Host: localhost:4572\r\n", "User-Agent: curl/8.4.0\r\n", "Accept: */*\r\n", "Content-Length: 188\r\n", "Content-Type: multipart/form-data; boundary=------------------------e5dLXybV4bfI8klaF8YmKE\r\n"], @header={"host"=>["localhost:4572"], "user-agent"=>["curl/8.4.0"], "accept"=>["*/*"], "content-length"=>["188"], "content-type"=>["multipart/form-data; boundary=------------------------e5dLXybV4bfI8klaF8YmKE"]}, @cookies=[], @accept=["*/*"], @accept_charset=[], @accept_encoding=[], @accept_language=[], @body="", @peeraddr=["AF_INET", 58988, "192.168.65.1", "192.168.65.1"], @addr=["AF_INET", 4572, "172.18.0.2", "172.18.0.2"], @attributes={}, @user=nil, @keep_alive=true, @request_time=2024-10-11 21:17:04.004356764 +0000, @remaining_size=nil, @socket=#<TCPSocket:fd 10, AF_INET, 172.18.0.2, 4572>, @forwarded_for=nil, @forwarded_server=nil, @forwarded_port=nil, @forwarded_host=nil, @forwarded_proto=nil, @request_bytes=199>

        @env[name] = v
            ^^^^^^^^
Did you mean?  []
[2024-10-11 23:17:38] - Server => Request for POST
[2024-10-11 23:17:38] - Server => Request body length: 
[2024-10-11 23:17:38] - Server => Error: undefined method `[]=' for #<WEBrick::HTTPRequest:0x0000ffff7dcb8068 @config={:BindAddress=>nil, :Port=>4572, :MaxClients=>100, :ServerType=>nil, :Logger=>#<WEBrick::Log:0x0000ffff7e1594a0 @level=4, @log=#<IO:<STDERR>>, @time_format="[%Y-%m-%d %H:%M:%S]">, :ServerSoftware=>"WEBrick/1.8.2 (Ruby/3.1.6/2024-05-29)", :TempDir=>"/tmp", :DoNotListen=>false, :StartCallback=>nil, :StopCallback=>nil, :AcceptCallback=>nil, :DoNotReverseLookup=>true, :ShutdownSocketWithoutClose=>false, :RequestTimeout=>30, :HTTPVersion=>#<WEBrick::HTTPVersion:0x0000ffff7f0efba8 @minor=1, @major=1>, :AccessLog=>[[#<IO:<STDERR>>, "%h %l %u %t \"%r\" %s %b"], [#<IO:<STDERR>>, "%{Referer}i -> %U"]], :MimeTypes=>{"ai"=>"application/postscript", "asc"=>"text/plain", "avi"=>"video/x-msvideo", "avif"=>"image/avif", "bin"=>"application/octet-stream", "bmp"=>"image/bmp", "class"=>"application/octet-stream", "cer"=>"application/pkix-cert", "crl"=>"application/pkix-crl", "crt"=>"application/x-x509-ca-cert", "css"=>"text/css", "dms"=>"application/octet-stream", "doc"=>"application/msword", "dvi"=>"application/x-dvi", "eps"=>"application/postscript", "etx"=>"text/x-setext", "exe"=>"application/octet-stream", "gif"=>"image/gif", "htm"=>"text/html", "html"=>"text/html", "ico"=>"image/x-icon", "jpe"=>"image/jpeg", "jpeg"=>"image/jpeg", "jpg"=>"image/jpeg", "js"=>"application/javascript", "json"=>"application/json", "lha"=>"application/octet-stream", "lzh"=>"application/octet-stream", "mjs"=>"application/javascript", "mov"=>"video/quicktime", "mp4"=>"video/mp4", "mpe"=>"video/mpeg", "mpeg"=>"video/mpeg", "mpg"=>"video/mpeg", "otf"=>"font/otf", "pbm"=>"image/x-portable-bitmap", "pdf"=>"application/pdf", "pgm"=>"image/x-portable-graymap", "png"=>"image/png", "pnm"=>"image/x-portable-anymap", "ppm"=>"image/x-portable-pixmap", "ppt"=>"application/vnd.ms-powerpoint", "ps"=>"application/postscript", "qt"=>"video/quicktime", "ras"=>"image/x-cmu-raster", "rb"=>"text/plain", "rd"=>"text/plain", "rtf"=>"application/rtf", "sgm"=>"text/sgml", "sgml"=>"text/sgml", "svg"=>"image/svg+xml", "tif"=>"image/tiff", "tiff"=>"image/tiff", "ttc"=>"font/collection", "ttf"=>"font/ttf", "txt"=>"text/plain", "wasm"=>"application/wasm", "webm"=>"video/webm", "webmanifest"=>"application/manifest+json", "webp"=>"image/webp", "woff"=>"font/woff", "woff2"=>"font/woff2", "xbm"=>"image/x-xbitmap", "xhtml"=>"text/html", "xls"=>"application/vnd.ms-excel", "xml"=>"text/xml", "xpm"=>"image/x-xpixmap", "xwd"=>"image/x-xwindowdump", "zip"=>"application/zip"}, :DirectoryIndex=>["index.html", "index.htm", "index.cgi", "index.rhtml"], :DocumentRoot=>nil, :DocumentRootOptions=>{:FancyIndexing=>true}, :RequestCallback=>nil, :ServerAlias=>nil, :InputBufferSize=>65536, :OutputBufferSize=>65536, :ProxyAuthProc=>nil, :ProxyContentHandler=>nil, :ProxyVia=>true, :ProxyTimeout=>true, :ProxyURI=>nil, :CGIInterpreter=>nil, :CGIPathEnv=>nil, :Escape8bitURI=>false, :ServerName=>"e22519e69c6a"}, @buffer_size=65536, @logger=#<WEBrick::Log:0x0000ffff7e1594a0 @level=4, @log=#<IO:<STDERR>>, @time_format="[%Y-%m-%d %H:%M:%S]">, @http_version=#<WEBrick::HTTPVersion:0x0000ffff7dcb7a78 @minor=1, @major=1>, @unparsed_uri="/img/upload", @request_method="POST", @request_line="POST /img/upload HTTP/1.1\r\n", @path="/img/upload", @port=4572, @host="localhost", @request_uri=#<URI::HTTP http://localhost:4572/img/upload>, @path_info="", @script_name="/img/upload", @query_string=nil, @query=nil, @form_data=nil, @raw_header=["Host: localhost:4572\r\n", "User-Agent: curl/8.4.0\r\n", "Accept: */*\r\n", "Content-Length: 93474\r\n", "Content-Type: multipart/form-data; boundary=------------------------jjYuxvScBEyykZEO9RaKTf\r\n"], @header={"host"=>["localhost:4572"], "user-agent"=>["curl/8.4.0"], "accept"=>["*/*"], "content-length"=>["93474"], "content-type"=>["multipart/form-data; boundary=------------------------jjYuxvScBEyykZEO9RaKTf"]}, @cookies=[], @accept=["*/*"], @accept_charset=[], @accept_encoding=[], @accept_language=[], @body="", @peeraddr=["AF_INET", 38958, "192.168.65.1", "192.168.65.1"], @addr=["AF_INET", 4572, "172.18.0.2", "172.18.0.2"], @attributes={}, @user=nil, @keep_alive=true, @request_time=2024-10-11 21:17:38.324883127 +0000, @remaining_size=nil, @socket=#<TCPSocket:fd 10, AF_INET, 172.18.0.2, 4572>, @forwarded_for=nil, @forwarded_server=nil, @forwarded_port=nil, @forwarded_host=nil, @forwarded_proto=nil, @request_bytes=201>

        @env[name] = v
            ^^^^^^^^
Did you mean?  []
[2024-10-11 23:18:10] - Server => Starting server
[2024-10-11 23:18:10] - Mongo => Connected to database
[2024-10-11 23:18:16] - Server => Request for POST
[2024-10-11 23:18:16] - Server => Request body length: 
[2024-10-11 23:18:16] - Server => Error: undefined method `[]=' for #<WEBrick::HTTPRequest:0x0000ffff880f5b30 @config={:BindAddress=>nil, :Port=>4572, :MaxClients=>100, :ServerType=>nil, :Logger=>#<WEBrick::Log:0x0000ffff880f9870 @level=4, @log=#<IO:<STDERR>>, @time_format="[%Y-%m-%d %H:%M:%S]">, :ServerSoftware=>"WEBrick/1.8.2 (Ruby/3.1.6/2024-05-29)", :TempDir=>"/tmp", :DoNotListen=>false, :StartCallback=>nil, :StopCallback=>nil, :AcceptCallback=>nil, :DoNotReverseLookup=>true, :ShutdownSocketWithoutClose=>false, :RequestTimeout=>30, :HTTPVersion=>#<WEBrick::HTTPVersion:0x0000ffff8908b928 @minor=1, @major=1>, :AccessLog=>[[#<IO:<STDERR>>, "%h %l %u %t \"%r\" %s %b"], [#<IO:<STDERR>>, "%{Referer}i -> %U"]], :MimeTypes=>{"ai"=>"application/postscript", "asc"=>"text/plain", "avi"=>"video/x-msvideo", "avif"=>"image/avif", "bin"=>"application/octet-stream", "bmp"=>"image/bmp", "class"=>"application/octet-stream", "cer"=>"application/pkix-cert", "crl"=>"application/pkix-crl", "crt"=>"application/x-x509-ca-cert", "css"=>"text/css", "dms"=>"application/octet-stream", "doc"=>"application/msword", "dvi"=>"application/x-dvi", "eps"=>"application/postscript", "etx"=>"text/x-setext", "exe"=>"application/octet-stream", "gif"=>"image/gif", "htm"=>"text/html", "html"=>"text/html", "ico"=>"image/x-icon", "jpe"=>"image/jpeg", "jpeg"=>"image/jpeg", "jpg"=>"image/jpeg", "js"=>"application/javascript", "json"=>"application/json", "lha"=>"application/octet-stream", "lzh"=>"application/octet-stream", "mjs"=>"application/javascript", "mov"=>"video/quicktime", "mp4"=>"video/mp4", "mpe"=>"video/mpeg", "mpeg"=>"video/mpeg", "mpg"=>"video/mpeg", "otf"=>"font/otf", "pbm"=>"image/x-portable-bitmap", "pdf"=>"application/pdf", "pgm"=>"image/x-portable-graymap", "png"=>"image/png", "pnm"=>"image/x-portable-anymap", "ppm"=>"image/x-portable-pixmap", "ppt"=>"application/vnd.ms-powerpoint", "ps"=>"application/postscript", "qt"=>"video/quicktime", "ras"=>"image/x-cmu-raster", "rb"=>"text/plain", "rd"=>"text/plain", "rtf"=>"application/rtf", "sgm"=>"text/sgml", "sgml"=>"text/sgml", "svg"=>"image/svg+xml", "tif"=>"image/tiff", "tiff"=>"image/tiff", "ttc"=>"font/collection", "ttf"=>"font/ttf", "txt"=>"text/plain", "wasm"=>"application/wasm", "webm"=>"video/webm", "webmanifest"=>"application/manifest+json", "webp"=>"image/webp", "woff"=>"font/woff", "woff2"=>"font/woff2", "xbm"=>"image/x-xbitmap", "xhtml"=>"text/html", "xls"=>"application/vnd.ms-excel", "xml"=>"text/xml", "xpm"=>"image/x-xpixmap", "xwd"=>"image/x-xwindowdump", "zip"=>"application/zip"}, :DirectoryIndex=>["index.html", "index.htm", "index.cgi", "index.rhtml"], :DocumentRoot=>nil, :DocumentRootOptions=>{:FancyIndexing=>true}, :RequestCallback=>nil, :ServerAlias=>nil, :InputBufferSize=>65536, :OutputBufferSize=>65536, :ProxyAuthProc=>nil, :ProxyContentHandler=>nil, :ProxyVia=>true, :ProxyTimeout=>true, :ProxyURI=>nil, :CGIInterpreter=>nil, :CGIPathEnv=>nil, :Escape8bitURI=>false}, @buffer_size=65536, @logger=#<WEBrick::Log:0x0000ffff880f9870 @level=4, @log=#<IO:<STDERR>>, @time_format="[%Y-%m-%d %H:%M:%S]">, @http_version=#<WEBrick::HTTPVersion:0x0000ffff880f4a78 @minor=1, @major=1>, @unparsed_uri="/img/upload", @request_method="POST", @request_line="POST /img/upload HTTP/1.1\r\n", @path="/img/upload", @port=4572, @host="localhost", @request_uri=#<URI::HTTP http://localhost:4572/img/upload>, @path_info="", @script_name="/img/upload", @query_string=nil, @query=nil, @form_data=nil, @raw_header=["Host: localhost:4572\r\n", "User-Agent: curl/8.4.0\r\n", "Accept: */*\r\n", "Content-Length: 93474\r\n", "Content-Type: multipart/form-data; boundary=------------------------1clY7BZ0A2KZPcTVDxGbJ6\r\n"], @header={"host"=>["localhost:4572"], "user-agent"=>["curl/8.4.0"], "accept"=>["*/*"], "content-length"=>["93474"], "content-type"=>["multipart/form-data; boundary=------------------------1clY7BZ0A2KZPcTVDxGbJ6"]}, @cookies=[], @accept=["*/*"], @accept_charset=[], @accept_encoding=[], @accept_language=[], @body="", @peeraddr=["AF_INET", 65238, "192.168.65.1", "192.168.65.1"], @addr=["AF_INET", 4572, "172.18.0.2", "172.18.0.2"], @attributes={}, @user=nil, @keep_alive=true, @request_time=2024-10-11 21:18:16.470997172 +0000, @remaining_size=nil, @socket=#<TCPSocket:fd 10, AF_INET, 172.18.0.2, 4572>, @forwarded_for=nil, @forwarded_server=nil, @forwarded_port=nil, @forwarded_host=nil, @forwarded_proto=nil, @request_bytes=201>

        @env[name] = v
            ^^^^^^^^
Did you mean?  []
[2024-10-11 23:19:28] - Server => Starting server
[2024-10-11 23:19:29] - Mongo => Connected to database

[2024-10-11 23:21:09] - Server => Starting server
[2024-10-11 23:21:09] - Mongo => Connected to database

[2024-10-11 23:22:34] - Server => Starting server
[2024-10-11 23:22:35] - Mongo => Connected to database
[2024-10-11 23:22:38] - Server => Request for POST
[2024-10-11 23:22:38] - Server => Content-Type: ["multipart/form-data; boundary=------------------------59OjZhN3gpH8Gw44RnmQHD"]
[2024-10-11 23:22:38] - Server => Boundary: nil
[2024-10-11 23:24:13] - Server => Starting server
[2024-10-11 23:24:14] - Mongo => Connected to database
[2024-10-11 23:26:22] - Server => Starting server
[2024-10-11 23:26:22] - Mongo => Connected to database
[2024-10-11 23:27:41] - Server => Starting server
[2024-10-11 23:27:42] - Mongo => Connected to database
[2024-10-11 23:28:05] - Server => Starting server
[2024-10-11 23:28:06] - Mongo => Connected to database
[2024-10-12 12:47:02] - Server => Starting server
[2024-10-12 12:47:03] - Mongo => Connected to database
[2024-10-12 12:49:17] - Server => Starting server
[2024-10-12 12:49:18] - Mongo => Connected to database
[2024-10-12 13:12:12] - Server => Starting server
[2024-10-12 13:12:12] - Mongo => Connected to database
[2024-10-12 14:25:47] - Server => Starting server
[2024-10-12 14:25:47] - Mongo => Connected to database
[2024-10-12 16:08:31] - Server => Starting server
[2024-10-12 16:08:31] - Mongo => Connected to database
[2024-10-13 17:30:33] - Server => Starting server
[2024-10-13 17:30:34] - Mongo => Connected to database
[2024-10-13 17:38:03] - Server => Starting server
[2024-10-13 17:38:03] - Mongo => Connected to database
[2024-10-13 18:03:19] - Server => Starting server
[2024-10-13 18:03:19] - Mongo => Connected to database
[2024-10-13 18:22:06] - Server => Starting server
[2024-10-13 18:22:07] - Mongo => Connected to database
[2024-10-13 18:51:58] - Server => Starting server
[2024-10-13 18:51:59] - Mongo => Connected to database
[2024-10-13 18:58:50] - Server => Starting server
[2024-10-13 18:58:51] - Mongo => Connected to database
[2024-10-13 19:03:47] - Server => Starting server
[2024-10-13 19:03:47] - Mongo => Connected to database
[2024-10-13 19:45:09] - Server => Starting server
[2024-10-13 19:45:10] - Mongo => Connected to database
[2024-10-13 20:03:56] - Server => Starting server
[2024-10-13 20:03:57] - Mongo => Connected to database
[2024-10-14 03:02:10] - Server => Starting server
[2024-10-14 03:02:11] - Mongo => Connected to database
[2024-10-14 03:05:23] - Server => Starting server
[2024-10-14 03:05:24] - Mongo => Connected to database
[2024-10-14 03:23:52] - Server => Starting server
[2024-10-14 03:23:52] - Mongo => Connected to database
[2024-10-14 12:34:43] - Server => Starting server
[2024-10-14 12:34:44] - Mongo => Connected to database
[2024-10-14 14:47:25] - Server => Starting server
[2024-10-14 14:47:26] - Mongo => Connected to database
[2024-10-14 15:27:08] - Server => Starting server
[2024-10-14 15:27:08] - Mongo => Connected to database
[2024-10-15 14:24:30] - Server => Starting server
[2024-10-15 14:24:31] - Mongo => Connected to database
[2024-10-15 14:52:32] - Server => Starting server
[2024-10-15 14:52:32] - Mongo => Connected to database
[2024-10-15 14:56:43] - Server => Starting server
[2024-10-15 14:56:44] - Mongo => Connected to database
